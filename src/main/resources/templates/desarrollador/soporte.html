<!doctype html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>TELITO DEVELOPER PORTAL | Soporte</title>
    <link href="/tabler/dist/libs/jsvectormap/dist/jsvectormap.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler-flags.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler-socials.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler-payments.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler-vendors.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler-marketing.css?1757307620" rel="stylesheet" />
    <link href="/tabler/dist/css/tabler-themes.css?1757307620" rel="stylesheet" />
    <link href="/tabler/preview/css/demo.css?1757307620" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url("https://rsms.me/inter/inter.css");

        /* Estilos para la vista de soporte */
        .support-container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .support-header {
            padding: 2rem 0 1rem;
            margin-bottom: 1rem;
        }

        .support-title {
            font-size: 1.875rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .support-subtitle {
            color: var(--tblr-secondary-color);
            margin-bottom: 1.5rem;
        }

        .support-content {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
        }

        .chat-container {
            background-color: var(--tblr-bg-surface);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 600px;
        }

        .chat-header {
            padding: 1.5rem;
            background-color: var(--tblr-primary);
            color: white;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .message {
            max-width: 80%;
            padding: 1rem;
            border-radius: 8px;
            line-height: 1.5;
        }

        .message-bot {
            background-color: var(--tblr-bg-surface-secondary);
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }

        .message-user {
            background-color: var(--tblr-primary-light);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }

        .chat-input {
            padding: 1rem;
            border-top: 1px solid var(--tblr-border-color);
            display: flex;
            gap: 0.75rem;
        }

        .chat-input input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 1px solid var(--tblr-border-color);
            border-radius: 4px;
            font-size: 1rem;
        }

        .chat-input button {
            padding: 0.75rem 1.25rem;
            background-color: var(--tblr-primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .support-sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .support-card {
            background-color: var(--tblr-bg-surface);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }

        .support-card h3 {
            margin-bottom: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ticket-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .ticket-item {
            padding: 0.75rem;
            border-bottom: 1px solid var(--tblr-border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ticket-item:last-child {
            border-bottom: none;
        }

        .ticket-info {
            display: flex;
            flex-direction: column;
        }

        .ticket-title {
            font-weight: 500;
        }

        .ticket-date {
            font-size: 0.875rem;
            color: var(--tblr-secondary-color);
        }

        .ticket-status {
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-open {
            background-color: rgba(var(--tblr-success-rgb), 0.1);
            color: var(--tblr-success);
        }

        .status-pending {
            background-color: rgba(var(--tblr-warning-rgb), 0.1);
            color: var(--tblr-warning);
        }

        .status-closed {
            background-color: rgba(var(--tblr-secondary-rgb), 0.1);
            color: var(--tblr-secondary);
        }

        .faq-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .faq-item {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--tblr-border-color);
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-question {
            font-weight: 500;
            margin-bottom: 0.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .faq-answer {
            color: var(--tblr-secondary-color);
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .resources-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .resource-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem;
            background-color: var(--tblr-bg-surface-secondary);
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .resource-item:hover {
            background-color: var(--tblr-bg-surface-tertiary);
        }

        .resource-icon {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--tblr-primary);
        }

        .resource-name {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .btn-new-ticket {
            width: 100%;
            padding: 0.75rem;
            background-color: var(--tblr-primary);
            color: white;
            border: none;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 1rem;
        }

        @media (max-width: 1024px) {
            .support-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
<script src="tabler/dist/js/tabler-theme.min.js?1757307620"></script>
<div class="page">

    <div th:replace="desarrollador/header.html :: header"></div>

    <!-- Main  -->
    <div class="content">
        <div class="support-container">
            <div class="support-header">
                <h1 class="support-title">Centro de Soporte</h1>
                <p class="support-subtitle">Obtén ayuda con nuestras APIs, documentación y resuelve tus dudas</p>
            </div>

            <div class="support-content">
                <div class="chat-container">
                    <div class="chat-header">
                        <i class="fas fa-robot"></i>
                        <span>Asistente Virtual de Telito</span>
                    </div>
                    <div class="chat-messages" id="chat-messages">
                        <div class="message message-bot">
                            ¡Hola! Soy el asistente virtual de Telito. ¿En qué puedo ayudarte hoy? Puedo responder preguntas sobre nuestras APIs, documentación o ayudarte a crear un ticket de soporte.
                        </div>
                        <div class="message message-bot">
                            Algunas preguntas frecuentes:<br>
                            • ¿Cómo obtener una API Key?<br>
                            • ¿Dónde encontrar documentación?<br>
                            • ¿Cómo probar endpoints?<br>
                            <br>
                            Escribe tu pregunta o escribe "ticket" para hablar con un agente.
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chat-input" placeholder="Escribe tu mensaje aquí...">
                        <button id="send-message"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>

                <div class="support-sidebar">
                    <div class="support-card">
                        <h3><i class="fas fa-ticket-alt"></i> Mis Tickets</h3>
                        <ul class="ticket-list">
                            <li class="ticket-item">
                                <div class="ticket-info">
                                    <div class="ticket-title">Error en autenticación OAuth2</div>
                                    <div class="ticket-date">Creado: 15/05/2023</div>
                                </div>
                                <span class="ticket-status status-open">Abierto</span>
                            </li>
                            <li class="ticket-item">
                                <div class="ticket-info">
                                    <div class="ticket-title">Duda sobre límites de rate-limiting</div>
                                    <div class="ticket-date">Creado: 12/05/2023</div>
                                </div>
                                <span class="ticket-status status-pending">En progreso</span>
                            </li>
                            <li class="ticket-item">
                                <div class="ticket-info">
                                    <div class="ticket-title">Problema con webhooks</div>
                                    <div class="ticket-date">Creado: 08/05/2023</div>
                                </div>
                                <span class="ticket-status status-closed">Cerrado</span>
                            </li>
                        </ul>
                        <button class="btn-new-ticket" id="new-ticket-btn">Nuevo Ticket</button>
                    </div>

                    <div class="support-card">
                        <h3><i class="fas fa-question-circle"></i> Preguntas Frecuentes</h3>
                        <ul class="faq-list">
                            <li class="faq-item">
                                <div class="faq-question">
                                    ¿Cómo obtengo mi API Key?
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    Ve a la sección "Access Management" en tu dashboard, completa el formulario de solicitud y será aprobada automáticamente según tus permisos.
                                </div>
                            </li>
                            <li class="faq-item">
                                <div class="faq-question">
                                    ¿Dónde encuentro ejemplos de código?
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    En la documentación de cada API, encontrarás ejemplos en múltiples lenguajes: curl, JavaScript, Python, Java y más.
                                </div>
                            </li>
                            <li class="faq-item">
                                <div class="faq-question">
                                    ¿Qué hacer si recibo error 429?
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                                <div class="faq-answer">
                                    El error 429 indica que has excedido el límite de rate-limiting. Revisa los límites en la documentación o contacta para aumentar tu cuota.
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div class="support-card">
                        <h3><i class="fas fa-book"></i> Recursos</h3>
                        <div class="resources-grid">
                            <div class="resource-item">
                                <div class="resource-icon"><i class="fas fa-file-alt"></i></div>
                                <div class="resource-name">Documentación</div>
                            </div>
                            <div class="resource-item">
                                <div class="resource-icon"><i class="fas fa-video"></i></div>
                                <div class="resource-name">Tutoriales</div>
                            </div>
                            <div class="resource-item">
                                <div class="resource-icon"><i class="fas fa-code"></i></div>
                                <div class="resource-name">Ejemplos</div>
                            </div>
                            <div class="resource-item">
                                <div class="resource-icon"><i classfas ="fa-users"></i></div>
                                <div class="resource-name">Comunidad</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>
</div>

<script>

    document.getElementById('send-message').addEventListener('click', sendMessage);
    document.getElementById('chat-input').addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });

    document.getElementById('new-ticket-btn').addEventListener('click', function() {
        alert('Redirigiendo al formulario de nuevo ticket...');

    });


    document.querySelectorAll('.faq-question').forEach(question => {
        question.addEventListener('click', function() {
            const answer = this.nextElementSibling;
            const icon = this.querySelector('i');

            if (answer.style.display === 'block') {
                answer.style.display = 'none';
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            } else {
                answer.style.display = 'block';
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            }
        });
    });


    const botResponses = {
        'api key': 'Para obtener tu API Key, ve a la sección "Onboarding Técnico" en tu dashboard. Allí podrás solicitar una API Key que se aprobará automáticamente según tus permisos.',
        'documentación': 'Puedes encontrar toda nuestra documentación en la sección "Documentación" del portal. Tenemos guías completas, ejemplos de código y referencias de API.',
        'límites': 'Los límites de rate-limiting varían según el plan que tengas. Puedes consultar los límites específicos en la documentación de cada API.',
        'autenticación': 'Usamos OAuth2 para autenticación. Puedes encontrar guías detalladas en la sección de documentación de autenticación.',
        'ticket': 'Voy a redirigiros a nuestro formulario de ticket para que un agente pueda ayudarte con tu consulta específica.',
        'default': 'Lo siento, no entendí tu pregunta. ¿Podrías reformularla o escribir "ticket" para hablar con un agente humano?'
    };

    function sendMessage() {
        const input = document.getElementById('chat-input');
        const message = input.value.trim();

        if (message === '') return;


        addMessage(message, 'user');
        input.value = '';


        setTimeout(() => {
            let response = botResponses.default;


            for (const [key, value] of Object.entries(botResponses)) {
                if (message.toLowerCase().includes(key)) {
                    response = value;
                    break;
                }
            }

            addMessage(response, 'bot');


            if (message.toLowerCase().includes('ticket')) {
                setTimeout(() => {
                    addMessage('¿Quieres que te ayude a crear un ticket ahora?', 'bot');
                }, 1000);
            }
        }, 1000);
    }

    function addMessage(text, sender) {
        const messagesContainer = document.getElementById('chat-messages');
        const messageElement = document.createElement('div');
        messageElement.classList.add('message', `message-${sender}`);
        messageElement.textContent = text;

        messagesContainer.appendChild(messageElement);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }
</script>

<script src="/tabler/dist/libs/bootstrap/dist/js/bootstrap.bundle.min.js?1757307620"></script>
<script src="/tabler/dist/js/tabler.min.js?1757307620"></script>
</body>
</html>